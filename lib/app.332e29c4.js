webpackJsonp([0],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var r=n(1),i=o(r),s=n(2),a=o(s),u=n(3),c=o(u),l=n(68),f=o(l),h=n(69);o(h);n(74),n(75),i.default.directive("focus",{inserted:function(t,e){e.value&&t.focus()}}),i.default.use(a.default);var d=new a.default({mode:"history",routes:c.default,scrollBehavior:function(t,e,n){return n?n:{x:0,y:0}}});sessionStorage.getItem("userInfo")&&f.default.commit("LOGIN",JSON.parse(sessionStorage.getItem("userInfo"))),d.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})?f.default.state.userInfo.loginname?n():n({path:"/login",query:{redirect:encodeURIComponent(t.fullPath)}}):n()}),new i.default({router:d,store:f.default}).$mount("#app")},,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=o(r),s=function(t){n.e(1,function(){t(n(45))})},a=function(t){n.e(2,function(){t(n(51))})},u=function(t){n.e(3,function(){t(n(54))})},c=function(t){n.e(4,function(){t(n(58))})},l=function(t){n.e(5,function(){t(n(61))})},f=function(t){n.e(6,function(){t(n(65))})},h=[{path:"/vue-cnode-mobile",redirect:{name:"list"}},{path:"/vue-cnode-mobile/list",name:"list",component:i.default},{path:"/vue-cnode-mobile/topic/:id",name:"topic",component:s},{path:"/vue-cnode-mobile/create",name:"create",component:a,meta:{requiresAuth:!0}},{path:"/vue-cnode-mobile/login",name:"login",component:u},{path:"/vue-cnode-mobile/user/:loginname",name:"user",component:c},{path:"/vue-cnode-mobile/message",name:"message",component:l,meta:{requiresAuth:!0}},{path:"/vue-cnode-mobile/about",name:"about",component:f}];e.default=h},function(t,e,n){var o,r;n(5),o=n(9);var i=n(44);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o=n(6);"string"==typeof o&&(o=[[t.id,o,""]]);n(8)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,"",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=f[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],e))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(u(o.parts[i],e));f[o.id]={id:o.id,refs:1,parts:s}}}}function r(t){for(var e=[],n={},o=0;o<t.length;o++){var r=t[o],i=r[0],s=r[1],a=r[2],u=r[3],c={css:s,media:a,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=p(),o=v[v.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),v.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=v.indexOf(t);e>=0&&v.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t,e){var n,o,r;if(e.singleton){var i=y++;n=m||(m=a(e)),o=c.bind(null,n,i,!1),r=c.bind(null,n,i,!0)}else n=a(e),o=l.bind(null,n),r=function(){s(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}function c(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var i=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function l(t,e){var n=e.css,o=e.media,r=e.sourceMap;if(o&&t.setAttribute("media",o),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},d=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,y=0,v=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=d()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=r(t);return o(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var a=n[s],u=f[a.id];u.refs--,i.push(u)}if(t){var c=r(t);o(c,e)}for(var s=0;s<i.length;s++){var u=i[s];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=n(10);n(11);var s=n(12),a=o(s),u=n(36),c=o(u),l=n(41),f=n(42),h=n(43);e.default={data:function(){return{searchOption:{page:1,limit:20,tab:"all",mdrender:!1},scrollDelay:!1}},mounted:function(){this.$route.query&&this.$route.query.tab&&(this.searchOption.tab=this.$route.query.tab),sessionStorage.getItem("tab")&&sessionStorage.getItem("tab")===(this.$route.query.tab||"all")?this.searchOption=JSON.parse(sessionStorage.getItem("searchOption")):this.getTopics(),document.addEventListener("scroll",this.getScrollData,!1)},updated:function(){this.scrollDelay=!1},beforeDestroy:function(){document.removeEventListener("scroll",this.getScrollData)},beforeRouteEnter:function(t,e,n){"topic"===e.name&&(t.query.tab||"all")===sessionStorage.getItem("tab")||(sessionStorage.removeItem("scrollTop"),sessionStorage.removeItem("searchOption"),sessionStorage.removeItem("tab")),n()},beforeRouteLeave:function(t,e,n){"topic"===t.name&&(sessionStorage.setItem("scrollTop",document.body.scrollTop||document.documentElement.scrollTop),sessionStorage.setItem("searchOption",JSON.stringify(this.searchOption)),sessionStorage.setItem("tab",this.searchOption.tab)),n()},methods:{getTopics:function(){this.$store.dispatch(l.GET_TOPIC_LIST,this.searchOption)},getTabInfo:function(t){var e=t.tab;return t.good?e="good":t.top&&(e="top"),f.topicTab[e]},getScrollData:function(){var t=document.body.scrollTop||document.documentElement.scrollTop,e=document.documentElement.clientHeight,n=document.querySelectorAll(".topic-list li");n[n.length-1].offsetTop+n[n.length-1].offsetHeight<=t+e&&!this.scrollDelay&&(this.searchOption.page=this.searchOption.page+1,this.scrollDelay=!0,this.$store.dispatch(l.UPDATE_TOPIC_LIST,this.searchOption))}},filters:{getTimeInfo:function(t){return(0,h.getTimeInfo)(t)}},computed:r({},(0,i.mapState)(["topics"]),{pageTitle:function(){var t=this.$route.query&&this.$route.query.tab||"all";return f.topicTab[t]}}),watch:{$route:function(t){t.query&&t.query.tab&&(this.searchOption.tab=t.query.tab),this.searchOption.page=1,this.getTopics(),this.$refs.head.show=!1}},components:{nvHead:a.default,nvTop:c.default}}},,function(t,e){},function(t,e,n){var o,r;n(13),o=n(15);var i=n(35);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o=n(14);"string"==typeof o&&(o=[[t.id,o,""]]);n(8)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,"",""])},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),n(16);var r=n(17),i=o(r);e.default={data:function(){return{show:!1}},props:{title:{type:String,default:""}},methods:{toggleMenu:function(){this.show=!this.show}},components:{nvMenu:i.default}}},function(t,e){},function(t,e,n){var o,r;n(18),o=n(20);var i=n(34);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o=n(19);"string"==typeof o&&(o=[[t.id,o,""]]);n(8)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,".message-count{position:absolute;color:red;left:40px;top:15px}",""])},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=n(10);n(21);var s=n(22),a=o(s),u=n(27);e.default={data:function(){return{messageCount:0}},mounted:function(){this.getMessageCount()},methods:{getMessageCount:function(){var t=this;this.userInfo.loginname&&(0,u.messageCount)({accesstoken:this.userInfo.accesstoken}).then(function(e){e.success&&(t.messageCount=e.data)})}},props:{show:Boolean},computed:r({},(0,i.mapState)(["userInfo"])),components:{UserInfo:a.default}}},function(t,e){},function(t,e,n){var o,r;n(23),o=n(25);var i=n(26);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o=n(24);"string"==typeof o&&(o=[[t.id,o,""]]);n(8)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,".login-no a{font-size:2rem;font-weight:700;color:#313131;padding:24px;display:block}.login-yes{padding:20px 15px;display:flex;align-items:center}.login-yes img{width:40px;height:40px;border-radius:50%;margin-right:15px}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r=n(10);e.default={computed:o({},(0,r.mapState)(["userInfo"]))}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"user-info"},[userInfo.loginname?_h("div",{staticClass:"login-yes"},[userInfo.avatar_url?_h("img",{attrs:{src:userInfo.avatar_url}}):_e()," ",_h("span",{domProps:{textContent:_s(userInfo.loginname)}})]):_h("div",{staticClass:"login-no"},[_h("router-link",{attrs:{to:{name:"login"}}},[_m(0),"登录\n        "])])," "," "])},staticRenderFns:[function(){with(this)return _h("i",{staticClass:"iconfont icon-denglu",attrs:{style:"margin-right: 30px;color: #42b983;font-size: 2rem;"}})}]}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.upReply=e.messages=e.messageCount=e.reply=e.login=e.topicInfo=e.topicList=void 0;var r=n(28),i=o(r);e.topicList=function(t){return(0,i.default)({url:"/v1/topics",body:t})},e.topicInfo=function(t){return(0,i.default)({url:"/v1/topic/"+t})},e.login=function(t){return(0,i.default)({url:"v1/accesstoken",method:"post",body:t})},e.reply=function(t,e){return(0,i.default)({url:"v1/topic/"+e+"/replies",method:"post",body:t})},e.messageCount=function(t){return(0,i.default)({url:"v1/message/count",body:t})},e.messages=function(t){return(0,i.default)({url:"v1/messages",body:t})},e.upReply=function(t,e){return(0,i.default)({url:"v1/reply/"+e+"/ups",method:"post",body:t})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(29).polyfill(),n(32);var o={method:"get",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"},r=function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)},i=function(t){var e=Object.assign({},o,t),n=e.url;delete e.url;var i="/api";if(i+=/^\//.test(n)?n:"/"+n,"get"!==e.method.toLowerCase()&&r(e.body)&&e.headers["Content-Type"].indexOf("application/json")>-1&&(e.body=JSON.stringify(e.body)),"get"===e.method.toLowerCase()&&r(e.body)){i+="?";for(var s in e.body){var a=e.body[s];a instanceof Array&&(a=JSON.stringify(a)),i+=s+"="+a+"&"}i=i.slice(0,-1),delete e.body}return i="https://cnodejs.org"+i,new Promise(function(t,n){fetch(i,e).then(function(e){var n=e.ok||e.status>=200&&e.status<300;if(!n)throw e;var o=e.headers.get("content-type")&&e.headers.get("content-type").indexOf("json")>=0?e.json():e.text();t(o)}).catch(function(t){n()})})};e.default=i},function(t,e,n){(function(e,o){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function i(t){K=t}function s(t){W=t}function a(){return function(){return e.nextTick(h)}}function u(){return"undefined"!=typeof X?function(){X(h)}:f()}function c(){var t=0,e=new Z(h),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function l(){var t=new MessageChannel;return t.port1.onmessage=h,function(){return t.port2.postMessage(0)}}function f(){var t=setTimeout;return function(){return t(h,1)}}function h(){for(var t=0;t<Y;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}Y=0}function d(){try{var t=n(31);return X=t.runOnLoop||t.runOnContext,u()}catch(t){return f()}}function p(t,e){var n=arguments,o=this,r=new this.constructor(y);void 0===r[rt]&&F(r);var i=o._state;return i?!function(){var t=n[i-1];W(function(){return R(i,r,t,o._result)})}():E(o,r,t,e),r}function m(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return O(n,t),n}function y(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(t){return ut.error=t,ut}}function g(t,e,n,o){try{t.call(e,n,o)}catch(t){return t}}function w(t,e,n){W(function(t){var o=!1,r=g(n,e,function(n){o||(o=!0,e!==n?O(t,n):C(t,n))},function(e){o||(o=!0,P(t,e))},"Settle: "+(t._label||" unknown promise"));!o&&r&&(o=!0,P(t,r))},t)}function T(t,e){e._state===st?C(t,e._result):e._state===at?P(t,e._result):E(e,void 0,function(e){return O(t,e)},function(e){return P(t,e)})}function I(t,e,n){e.constructor===t.constructor&&n===p&&e.constructor.resolve===m?T(t,e):n===ut?P(t,ut.error):void 0===n?C(t,e):r(n)?w(t,e,n):C(t,e)}function O(e,n){e===n?P(e,v()):t(n)?I(e,n,b(n)):C(e,n)}function x(t){t._onerror&&t._onerror(t._result),S(t)}function C(t,e){t._state===it&&(t._result=e,t._state=st,0!==t._subscribers.length&&W(S,t))}function P(t,e){t._state===it&&(t._state=at,t._result=e,W(x,t))}function E(t,e,n,o){var r=t._subscribers,i=r.length;t._onerror=null,r[i]=e,r[i+st]=n,r[i+at]=o,0===i&&t._state&&W(S,t)}function S(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var o=void 0,r=void 0,i=t._result,s=0;s<e.length;s+=3)o=e[s],r=e[s+n],o?R(n,o,r,i):r(i);t._subscribers.length=0}}function j(){this.error=null}function A(t,e){try{return t(e)}catch(t){return ct.error=t,ct}}function R(t,e,n,o){var i=r(n),s=void 0,a=void 0,u=void 0,c=void 0;if(i){if(s=A(n,o),s===ct?(c=!0,a=s.error,s=null):u=!0,e===s)return void P(e,_())}else s=o,u=!0;e._state!==it||(i&&u?O(e,s):c?P(e,a):t===st?C(e,s):t===at&&P(e,s))}function L(t,e){try{e(function(e){O(t,e)},function(e){P(t,e)})}catch(e){P(t,e)}}function M(){return lt++}function F(t){t[rt]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function k(t,e){this._instanceConstructor=t,this.promise=new t(y),this.promise[rt]||F(this.promise),z(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):P(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function B(t){return new k(this,t).promise}function N(t){var e=this;return new e(z(t)?function(n,o){for(var r=t.length,i=0;i<r;i++)e.resolve(t[i]).then(n,o)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function U(t){var e=this,n=new e(y);return P(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function G(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(t){this[rt]=M(),this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&q(),this instanceof H?L(this,t):G())}function $(){var t=void 0;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=H}var J=void 0;J=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var z=J,Y=0,X=void 0,K=void 0,W=function(t,e){nt[Y]=t,nt[Y+1]=e,Y+=2,2===Y&&(K?K(h):ot())},Q="undefined"!=typeof window?window:void 0,V=Q||{},Z=V.MutationObserver||V.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),ot=void 0;ot=tt?a():Z?c():et?l():void 0===Q?d():f();var rt=Math.random().toString(36).substring(16),it=void 0,st=1,at=2,ut=new j,ct=new j,lt=0;return k.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===it&&n<t;n++)this._eachEntry(e[n],n)},k.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===m){var r=b(t);if(r===p&&t._state!==it)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===H){var i=new n(y);I(i,t,r),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},k.prototype._settledAt=function(t,e,n){var o=this.promise;o._state===it&&(this._remaining--,t===at?P(o,n):this._result[e]=n),0===this._remaining&&C(o,this._result)},k.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){return n._settledAt(st,e,t)},function(t){return n._settledAt(at,e,t)})},H.all=B,H.race=N,H.resolve=m,H.reject=U,H._setScheduler=i,H._setAsap=s,H._asap=W,H.prototype={constructor:H,then:p,catch:function(t){return this.then(null,t)}},H.polyfill=$,H.Promise=H,H})}).call(e,n(30),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){m&&d&&(m=!1,d.length?p=d.concat(p):y=-1,p.length&&a())}function a(){if(!m){var t=r(s);m=!0;for(var e=p.length;e;){for(d=p,p=[];++y<e;)d&&d[y].run();y=-1,e=p.length}d=null,m=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var d,p=[],m=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||m||r(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){},function(t,e,n){n(33),t.exports=self.fetch.bind(self)},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function o(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),s(e)}function u(t){var e=new FileReader;return e.readAsText(t),s(e)}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=i(this);return t?t:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=l(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(r))}}),e}function d(t){var e=new r,n=(t.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(t){var n=t.trim().split(":"),o=n.shift().trim(),r=n.join(":").trim();e.append(o,r)}),e}function p(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};r.prototype.append=function(t,o){t=e(t),o=n(o);var r=this.map[t];r||(r=[],this.map[t]=r),r.push(o)},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,o){this.map[e(t)]=[n(o)]},r.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(o){t.call(e,o,n,this)},this)},this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),o(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),o(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),o(t)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var v=[301,302,303,307,308];p.redirect=function(t,e){if(v.indexOf(e)===-1)throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=f,t.Response=p,t.fetch=function(t,e){return new Promise(function(n,o){function r(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var i;i=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:d(s),url:r()},e="response"in s?s.response:s.responseText;n(new p(e,t))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&m.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(module,exports){module.exports={render:function(){with(this)return _h("nav",{staticClass:"menu-bar",class:{show:show}},[_h("user-info")," ",_h("ul",{staticClass:"menu-list"},[_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"list",query:{tab:"all"}}}},[_m(0),"全部"])])," ",_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"list",query:{tab:"good"}}}},[_m(1),"精华"])])," ",_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"list",query:{tab:"share"}}}},[_m(2),"分享"])])," ",_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"list",query:{tab:"ask"}}}},[_m(3),"问答"])])," ",_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"list",query:{tab:"job"}}}},[_m(4),"招聘"])])," ",_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"message"},style:"position: relative"}},[_m(5),"消息\n                ",messageCount?_h("span",{staticClass:"message-count",domProps:{textContent:_s("+"+messageCount)}}):_e()])])," ",_h("li",{staticClass:"menu-item"},[_h("router-link",{attrs:{to:{name:"about"}}},[_m(6),"关于"])])])])},staticRenderFns:[function(){with(this)return _h("i",{staticClass:"iconfont icon-quanbu"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-jinghua"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-share"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-wenda"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-zhaopin"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-xiaoxi"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-guanyu"})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",[show?_h("span",{staticClass:"page-cover",on:{click:toggleMenu}}):_e()," ",_h("header",{staticClass:"header-bar"},[_h("span",{staticClass:"menu-btn",on:{click:toggleMenu}})," ",_h("span",{staticClass:"info"},[_m(0)," ",_h("span",[_s(title)])])," ",_h("router-link",{staticClass:"publish-btn",attrs:{to:{name:"create"}}},[_m(1)])])," ",_h("nv-menu",{attrs:{show:show}})])},staticRenderFns:[function(){with(this)return _h("span",{staticClass:"vue-logo"})},function(){with(this)return _h("i",{staticClass:"iconfont icon-publish"})}]}},function(t,e,n){var o,r;n(37),o=n(39);var i=n(40);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o=n(38);"string"==typeof o&&(o=[[t.id,o,""]]);n(8)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,".iconfont.icon-uptop{position:fixed;right:10px;bottom:80px;font-size:5rem;color:#42b983;z-index:100;cursor:pointer}",""])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{show:!1,timer:""}},mounted:function(){document.addEventListener("scroll",this.handleToggle,!1)},beforeDestroy:function(){document.removeEventListener("scroll",this.handleToggle)},methods:{handleToggle:function(){var t=document.body.scrollTop||document.documentElement.scrollTop;t>100?this.show=!0:this.show=!1},handleBackTop:function(){clearInterval(this.timer),this.timer=setInterval(function(){var t=document.body.scrollTop||document.documentElement.scrollTop;if(0===t)return void clearInterval(this.timer);var e=Math.floor(-t/10);document.body.scrollTop=document.documentElement.scrollTop=t+e}.bind(this),15)}}}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{directives:[{name:"show",rawName:"v-show",value:show,expression:"show"}],staticClass:"iconfont icon-uptop",on:{click:handleBackTop}})},staticRenderFns:[]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GET_TOPIC_LIST="GET_TOPIC_LIST",e.UPDATE_TOPIC_LIST="UPDATE_TOPIC_LIST",e.GET_TOPIC_INFO="GET_TOPIC_INFO",e.LOGIN="LOGIN",e.REPLY="REPLY"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.topicTab={share:"分享",ask:"问答",good:"精华",job:"招聘",top:"置顶",all:"全部"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.getTimeInfo=function(t){if(!t)return"";var e=new Date(t),n=(new Date).getTime()-e.getTime();return n<0?"":n/1e3<60?"刚刚":n/6e4<60?parseInt(n/6e4)+"分钟前":n/36e5<24?parseInt(n/36e5)+"小时前":n/864e5<31?parseInt(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"}},function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("nv-head",{ref:"head",attrs:{title:pageTitle}})," ",_h("section",{staticClass:"topic"},[_h("ul",{staticClass:"topic-list"},[_l(topics,function(t){return _h("li",[_h("router-link",{attrs:{to:{name:"topic",params:{id:t.id
}}}},[_h("div",{staticClass:"top"},[_h("span",{staticClass:"normal",class:{color:t.good||t.top},domProps:{textContent:_s(getTabInfo(t))}})," ",_h("h3",{attrs:{title:t.title},domProps:{textContent:_s(t.title)}})])," ",_h("div",{staticClass:"bottom"},[_h("span",{staticClass:"author",style:{backgroundImage:"url("+t.author.avatar_url+")"}})," ",_h("div",{staticClass:"info"},[_h("p",[_h("span",{domProps:{textContent:_s(t.author.loginname)}})," ",_h("span",[_s(t.reply_count)+"/"+_s(t.visit_count)])])," ",_h("p",[_h("span",[_s(_f("getTimeInfo")(t.create_at))])," ",_h("span",[_s(_f("getTimeInfo")(t.last_reply_at))])])])])])])})])])," ",_h("nv-top")])},staticRenderFns:[]}},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var s,a,u=n(1),c=o(u),l=n(10),f=o(l),h=n(27),d=n(41);c.default.use(f.default);var p=new f.default.Store({state:{topics:[],topicInfo:{},userInfo:{}},mutations:(s={},r(s,d.GET_TOPIC_LIST,function(t,e){t.topics=e}),r(s,d.UPDATE_TOPIC_LIST,function(t,e){t.topics=[].concat(i(t.topics),i(e))}),r(s,d.GET_TOPIC_INFO,function(t,e){t.topicInfo=e}),r(s,d.LOGIN,function(t,e){t.userInfo=e}),s),actions:(a={},r(a,d.GET_TOPIC_LIST,function(t,e){var n=t.commit;(0,h.topicList)(e).then(function(t){t.success&&n(d.GET_TOPIC_LIST,t.data)})}),r(a,d.UPDATE_TOPIC_LIST,function(t,e){var n=t.commit;(0,h.topicList)(e).then(function(t){t.success&&n(d.UPDATE_TOPIC_LIST,t.data)})}),r(a,d.GET_TOPIC_INFO,function(t,e){var n=t.commit;(0,h.topicInfo)(e).then(function(t){t.success&&n(d.GET_TOPIC_INFO,t.data)})}),r(a,d.LOGIN,function(t,e){var n=t.commit;return(0,h.login)(e).then(function(t){if(t.success){var o={loginname:t.loginname,id:t.id,avatar_url:t.avatar_url,accesstoken:e.accesstoken};sessionStorage.setItem("userInfo",JSON.stringify(o)),n(d.LOGIN,o)}})}),r(a,d.REPLY,function(t,e){var n=(t.commit,t.dispatch),o=e.topicId;delete e.topicId,(0,h.reply)(e,o).then(function(t){t.success&&n(d.GET_TOPIC_INFO,o)})}),a)});e.default=p},function(t,e,n){var o,r;n(70),o=n(72);var i=n(73);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o=n(71);"string"==typeof o&&(o=[[t.id,o,""]]);n(8)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,"",""])},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=o(r);e.default={data:function(){return{show:!1}},components:{nvHead:i.default}}},function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("nv-head")," ",_h("router-view")])},staticRenderFns:[]}},function(t,e){},function(t,e){}]);